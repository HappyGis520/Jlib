<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:Jlib.Controls;assembly=Jlib.Controls">

    <Style TargetType="{x:Type controls:PasswordInputControl}">
        <Setter Property="Background" Value="White"/>
        <Setter Property="BorderBrush" Value="#CCCCCC"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Foreground" Value="#C2C2C2"/>
        <Setter Property="CornerRadius" Value="50"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:PasswordInputControl}">
                    <Border  Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" 
                             CornerRadius="{TemplateBinding CornerRadius}" SnapsToDevicePixels="True">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="75"/>
                            </Grid.ColumnDefinitions>
                            <!-- Password Icon -->
                            <Image x:Name="Icon" Source="/Theme.Default;component/Pictures/Password.png"  Visibility="Visible" IsHitTestVisible="False" Width="50" Height="30" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <!-- Password Input Area -->
                            <Grid Grid.Column="1" Margin="0,0,10,0" Background="Transparent" >
                                <PasswordBox   x:Name="PART_PasswordBox"  BorderThickness="0"   Background="Transparent"  VerticalContentAlignment="Center"
                                    FontSize="{TemplateBinding FontSize}"  FontFamily="{TemplateBinding FontFamily}" Foreground="{TemplateBinding Foreground}"/>
                                <TextBox     x:Name="PART_TextBox"   BorderThickness="0" Background="Transparent"  VerticalAlignment="Center" VerticalContentAlignment="Center"
                                    Visibility="Visible" FontSize="{TemplateBinding FontSize}"  FontFamily="{TemplateBinding FontFamily}" Foreground="Black"/>
                                 <!--提示信息-->
                                <TextBlock  x:Name="PART_Placeholder"  Visibility="Collapsed" Text="{TemplateBinding Placeholder}"  Foreground="#C2C2C2"  FontSize="28"  IsHitTestVisible="False"  HorizontalAlignment="Stretch" VerticalAlignment="Center"  Margin="0,0,0,0"/>
                            </Grid>
                            <ToggleButton  x:Name="PART_ToggleButton" Style="{DynamicResource MinimalToggleStyle}"  Grid.Column="2" Width="50" Background="Transparent" IsHitTestVisible="True"  BorderThickness="0" HorizontalContentAlignment="Left" VerticalAlignment="Center" Focusable="False" Margin="0,0,20,0">
                                <Grid Background="Transparent">
                                    <Image x:Name="EyeOpenIcon"  Width="35" Height="35"   Source="/Theme.Default;component/Pictures/EyeOpenIcon.png"  Visibility="Collapsed" IsHitTestVisible="False"  HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                    <Image x:Name="EyeClosedIcon"   Width="35" Height="35"  Source="/Theme.Default;component/Pictures/EyeClosed.png"  Visibility="Visible" IsHitTestVisible="False"    HorizontalAlignment="Left" VerticalAlignment="Center"  />
                                </Grid>
                            </ToggleButton>

                        </Grid>
                    </Border>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsPasswordVisible" Value="True">
                            <Setter TargetName="EyeOpenIcon" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="EyeClosedIcon" Property="Visibility" Value="Visible"/>
                        </Trigger>
                        <Trigger Property="IsPasswordVisible" Value="False">
                            <Setter TargetName="EyeOpenIcon" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="EyeClosedIcon" Property="Visibility" Value="Collapsed"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!-- 自定义ToggleButton样式 -->
    <Style x:Key="MinimalToggleStyle" TargetType="ToggleButton">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Gray"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <!-- 基础布局 -->
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="0"
                            CornerRadius="0">
                        <ContentPresenter HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                    </Border>

                    <!-- 仅保留Checked状态触发器 -->
                    <ControlTemplate.Triggers>
                        <!-- 选中状态 -->
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="border" Property="Background" Value="Transparent"/>
                            <Setter TargetName="border" Property="BorderBrush" Value="Transparent"/>
                        </Trigger>

                        <!-- 禁用状态（可选） -->
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>